<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.9.3">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2023-09-12T12:05:50+02:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">Elmoreapolis</title><subtitle>Hi! Please consult your doctor about the recommended daily dose of topics for you.</subtitle><entry><title type="html">Superconductivity - in equations</title><link href="http://localhost:4000/simulation/magnetism/superconductivity/2020/02/23/Superconductivity-in-equations.html" rel="alternate" type="text/html" title="Superconductivity - in equations" /><published>2020-02-23T11:31:06+01:00</published><updated>2020-02-23T11:31:06+01:00</updated><id>http://localhost:4000/simulation/magnetism/superconductivity/2020/02/23/Superconductivity%20in%20equations</id><content type="html" xml:base="http://localhost:4000/simulation/magnetism/superconductivity/2020/02/23/Superconductivity-in-equations.html">&lt;p&gt;$\newcommand{\ket}[1]{\rvert #1 \rangle}$
$\newcommand{\bra}[1]{\langle #1 \lvert}$
$\newcommand{\ptpt}[2]{\frac{\partial #1}{\partial #2}}$
$\newcommand{\unit}[1]{\mathrm{\,#1}}$&lt;/p&gt;

&lt;h1&gt; Superconductivity &lt;/h1&gt;

&lt;p&gt;Properties (bulk)&lt;br /&gt;
Perfect conductivity of lelectricity below $T_c, H_c, J_c$ (temperature,field,current density)&lt;br /&gt;
Fully expels magnetic field ($B=0$ inside).&lt;/p&gt;

&lt;p&gt;Methods to verify properties&lt;br /&gt;
Infrared absorption = Energy gap $\Delta$ measurement (since 1950s)&lt;br /&gt;
Ultrasound absorption (phonon absorption) = Gives $T_c$
Tunneling (NS interface) = $N(E)$ Density of states&lt;br /&gt;
Angular resolved Photon emission spectroscopy = $k$-dependence/orientation dependence of $\Delta$&lt;br /&gt;
NMR = Coherence length $\xi$- measurement&lt;br /&gt;
XRD = Crystal structure measurement (does not change on transition)&lt;br /&gt;
STM = Abrokosov lattice (hexagonal) measurement in type II SCs.
Electron tunneling = The gap measurement&lt;/p&gt;

&lt;h1&gt; Type I and Type II&lt;/h1&gt;
&lt;p&gt;Type I:&lt;br /&gt;
Pure metals&lt;br /&gt;
Perfect diamagnets ($\chi_{SC} = -1$)&lt;br /&gt;
$\lambda &amp;lt; \frac{\xi}{\sqrt{2}}$\&lt;/p&gt;

&lt;p&gt;Type II:&lt;br /&gt;
Alloys/intermetallic&lt;br /&gt;
Two critical fields (SC state, vortex state,normal state)&lt;br /&gt;
$\lambda &amp;gt; \frac{\xi}{\sqrt{2}}$&lt;/p&gt;

&lt;h1&gt; Superconductor + Maxwell + 2-fluid model = London equations&lt;/h1&gt;
&lt;p&gt;Only normalconducting electrons:&lt;/p&gt;

\[\sigma \rightarrow \infty\]

\[j \rightarrow finite\]

\[E \rightarrow 0\]

\[B \rightarrow constant\]

&lt;p&gt;Cannot be explained (but is consistent with) classical electrodynamics.&lt;/p&gt;

&lt;p&gt;Maxwell:&lt;/p&gt;

\[\nabla\times \mathbf{B} = \mu_0 \left(\mathbf{J}_s + \ptpt{\mathbf{D}}{t}\right)\]

\[\nabla\times \mathbf{E} = -\ptpt{\mathbf{B}}{t}\]

\[\nabla\cdot \mathbf{B} = 0\]

&lt;p&gt;And assumptions (two fluid model: separate superconducting electrons and very small displacement current/slowly changing mag field and low $vB$):&lt;/p&gt;

\[\ptpt{\mathbf{D}}{t}\rightarrow 0 \Leftrightarrow \ptpt{^2 \mathbf{B}}{t^2}\rightarrow 0\]

\[\mathbf{J}_s = n_s e^* \mathbf{v}_s\]

\[m^*\dot{\mathbf{v}}_s = e^* E\]

&lt;p&gt;where $e^* $, $m^* $ are the effective charge, mass. 
We get for the $E$, $B$-fields (and the London equations for $J_s$)&lt;/p&gt;

\[\mathbf{B} = \frac{m}{\mu_0 n_s e^2}\nabla^2 \mathbf{B}; \qquad \mathbf{E} = \frac{m}{n_se^2} \mathbf{\dot{J}_s};\qquad \nabla\times\mathbf{J_s} = -\mu_0\lambda_L^2\mathbf{B}\]

&lt;p&gt;in a free-charge less material ($\rho_f=0$):&lt;/p&gt;

\[\nabla^2\mathbf{E} = \lamba_L^2 \mathbf{E}\]

&lt;p&gt;For a 1D wall, we get (the mag field $B=0$ deep inside the bulk superconductor):&lt;/p&gt;

\[B(x) = B_{ext} e^{-x/\lambda_L}\]

&lt;p&gt;where $\lambda_L = \sqrt{\frac{m}{\mu_0 n_s e^2}}$.&lt;/p&gt;

&lt;p&gt;assume that at $T=0$, $n_s = n_{tot}$:
\(\lambda_L(0) = \sqrt{\frac{m}{\mu_0 n e^2}};\qquad\)&lt;/p&gt;

&lt;h2&gt; Two-fluid model &lt;/h2&gt;
&lt;p&gt;Assume Drude model for 2 fluids (normal electrons $n_n$, superconducting electrons $n_s$):&lt;/p&gt;

\[m \frac{d\mathbf{v}_i}{dt} = eE - m\frac{\mathbf{v}_i}{\tau_i}\]

&lt;p&gt;with \(\mathbf{J}_i = n_i e \mathbf{v}_i\) and $\tau_s\rightarrow \infty$ and fourier transforming keeping directions intacts and \(\mathbf{J}_i(\omega) = \sigma_i \mathbf{E}(\omega)\) where $\sigma_i = \sigma_{1i} - i \sigma_{2i}$&lt;/p&gt;

\[\sigma_{1s} = \frac{\pi}{2} \frac{n_s e^2}{m}\delta(\omega);\qquad \sigma_{2s} = \frac{n_s e^2}{m\omega}\]

&lt;p&gt;Assuming $\omega   \ll \frac{1}{\tau_n}$ (normally $\tau_n \approx 10^{-19}$&lt;/p&gt;

\[\sigma_{1n} = \frac{\tau_n e^2 n_n}{m}; \sigma_{2n} = 0\]

&lt;p&gt;Temperature dependencies are (in Gorter-Casimir model) just below $T_C$ $n_n = t^4$ and $n_s = (1-t^4)$ where $t=\frac{T}{T_c}$&lt;/p&gt;

&lt;p&gt;Power dissipated per unit volume is \(\rho \lvert J\rvert^2= Re(1/\sigma^2)\lvert J\rvert^2\) so that total power loss is \(P_{loss} \approx \sigma_N\frac{\mu_0^2 \omega^2}{\lambda_L^4} \lvert J\rvert^2 V\) where $V$ is the volume.&lt;/p&gt;

&lt;h1&gt; Thermodynamical work of magnetic field + state energy difference &lt;/h1&gt;

&lt;p&gt;Thermodynamics with Gibbs free energy per volume $g$ and $M = \chi H_{ext}$ and $B=\mu_0(H_{ext} + M)$.
Work done by placing material in field&lt;/p&gt;

\[W = -\mu_0 \int_0^{H_{ext}} MdH = -\mu_0 \chi \frac{H_{ext}^2}{2}\]

&lt;p&gt;Using $g_s(T,H_{ext}) = g_s(T,0) + W_{H_{ext}}$ and the $\chi\ll 1$ for the normal state and $H_c := H_{ext}$ when $g_s(T,H_{ext})=g_n(T,H_{ext})$&lt;/p&gt;

\[g_n(T,0)-g_s(T,0) = \frac{\mu_0(1+\chi_n) H_c^2}{2}\]

&lt;p&gt;which is &lt;emph&gt;really really&lt;/emph&gt; small.&lt;/p&gt;

&lt;p&gt;For a thin-film ($d\ll \lambda$) you can find (because Magnetization is way lower and $B$ does not tend to $0$ inside):&lt;/p&gt;

\[H_{c,\parallel} = \sqrt{24}H_c\lambda/d\]

&lt;h1&gt; Critical field at temperature&lt;/h1&gt;

\[H_c(T) = H_c(T=0)\left[1-\left(\frac{T}{T_c}\right)^2\right]\]

&lt;h2&gt; Thermodynamical specific heat (+measurement of discontinuity)&lt;/h2&gt;

&lt;p&gt;Volume constant during change of internal energy/adding heat:&lt;/p&gt;

\[c_V = \frac{dQ}{MdT} = \frac{dU}{dT}\]

&lt;h1&gt; Non-local electrodynamics &lt;/h1&gt;

\[\sigma_p \sim \frac{\sigma_E}{v_F} \sim \frac{k_B T_c}{v_F}\]

\[\sigma_x \sim \xi = \mathcal{O}(1)\cdot \frac{\hbar v_F}{k_B T_c}\]

\[\mathbf{J}_s(\mathbf{r}) = C \int \frac{\mathbf{r}(\mathbf{r}\cdot \mathbf{A}(\mathbf{r}&apos;))}{r^4} \mathrm{e}^{r/\xi} d^3 \mathbf{r}&apos;\]

&lt;p&gt;instead of&lt;/p&gt;

\[\mathbf{J}_s(\mathbf{r}) = \sigma E(\mathbf{r})\]

&lt;h1&gt; Evidence for phonon interaction &lt;/h1&gt;

\[\Delta T_c/T_c = -\frac{1}{2} \frac{\Delta M}{M}\]

&lt;p&gt;$M$ is the mass of an ion, $\Delta M$ is the difference in ion mass for a different isotope.&lt;/p&gt;

&lt;h1&gt; Cooper instability &lt;/h1&gt;
&lt;p&gt;Screened Coloumb potential (always positive = always repulsive):&lt;/p&gt;

\[V_C=\frac{V_{\mathbf{q}}}{\mathcal{E}(\mathbf{q},\omega)}\]

&lt;p&gt;Electron phonon interaction (can be negative when $\omega^2&amp;lt;\omega_D^2$:&lt;/p&gt;

\[V_{e-ph} = \frac{2\omega_D M_q^2}{\mathcal{E}(\mathbf{q},\omega)(\omega^2- \omega_D^2(\mathbf{q}))}\]

&lt;p&gt;Scattering of the minimum 2-electron wavefunction/particles (assuming that symmetric wavefunction = lowest energy and up-down spin is only one that can bind)&lt;br /&gt;
and the interaction is spin-independent and $\ket{i}, \ket{f}$ are plane wave states:&lt;/p&gt;

\[\left(H_{e-e}^{direct}\right)_{if} = \bra{i} H_{e-e}^{direct} \ket{f} = \int e^{i\mathbf{k}\cdot \mathbf{r}} U_{Coloumb}(\mathbf{r})e^{-i\mathbf{k}&apos;\cdot \mathbf{r}}d^3r\]

&lt;p&gt;Scattering of 2 electrons through indirect process:&lt;/p&gt;

\[\frac{\bra{i}H\ket{int}\bra{int}H\ket{f}}{(E_i-E_{int})^2}\]

&lt;h1&gt;The singlet wavefunction&lt;/h1&gt;
&lt;p&gt;\(\ket{\Psi_0} = \sum_{k&amp;gt;k_F} g_k c^\dagger_{k\uparrow}c^\dagger_{-k\downarrow} \ket{0}\)
where $\ket{0}$ is the filled Fermi Sea, $\ket{\Psi_0}$ is the superconducting many body ground state, $g_k$ a (filling) constant and $c^\dagger_{k\uparrow}c^\dagger_{-k\downarrow}$ the creation operators of a $(k\uparrow,-k\downarrow)$ pair.&lt;/p&gt;

&lt;p&gt;For $N$ electrons, you can make $N/2$ different pairs.&lt;/p&gt;

\[\ket{\Psi_G} = \prod_{k_1,k_2,\ldots,k_N} (u_{k_i}+v_{k_i}c^\dagger_{k_i\uparrow})c^\dagger_{k_i\downarrow}\ket{0}\]

&lt;h2&gt; Determining $T_c$ &lt;/h2&gt;

&lt;p&gt;From BCS somewhere:&lt;/p&gt;

\[E_k = \sqrt{\xi_k^2 + \Delta^2(T)}; \qquad \Delta(T\rightarrow T_c)=0\]

&lt;p&gt;where does the below equation comes from?&lt;/p&gt;

\[\frac{1}{V} = \frac{1}{2}\sum_k \frac{\tanh(\beta E_k/2)}{E_k} = N(E_F)\int_0^{\beta_c \hbar \omega_D/2} \frac{\tanh(x)}{x}dx\]

&lt;p&gt;from this&lt;/p&gt;

\[k_B T_c = 1.13 \hbar \omega_D e^{-1/(N(E_F)V)}\]

&lt;p&gt;Also from something different $\Delta(T=0) = 2\hbar \omega_D e^{-1/(N(E_F)V)}$ for $NV\ll 1$:&lt;/p&gt;

\[\Delta(0) = 1.764k_B T_c\]

&lt;p&gt;Close to $T=0$&lt;/p&gt;

\[\Delta(T) = 1.74\Delta_0\sqrt{1-\frac{T}{T_c}}\]

&lt;h2&gt; Determining specific heat $c_v$ &lt;/h2&gt;

&lt;p&gt;Assume $E_k = \sqrt{\xi_k^2+\Delta^2(T)}$ and a F-D distribution for the qps $f_k :=f(E_k) = \frac{1}{1+\exp(\beta E_k)}$ and entropy being $S=-k_b \sum_i p_i \ln(p_i) $ and specific heat $C_v = TdS/dT = -\beta dS/d\beta$. Electronic contribution to entropy in superconducting state (every qp in up/down spin occupied or not):&lt;/p&gt;

\[S_{e,sc} =-2k_b \sum_k (1-f_k)\ln(1-f_k) + f_k \ln(f_k)\]

&lt;p&gt;Note that $\frac{dE_k}{d\beta}\neq 0$ and that chain rules can be applied a lot and $\xi_k$ indep of $\beta$:&lt;/p&gt;

\[c_v = -2\beta k_b \sum_k E_k \ptpt{f_k}{E_k} (E_k + \frac{\beta}{2E_k}\ptpt{\Delta^2(T)}{\beta})\]

&lt;p&gt;Now we need to use the sum_k to int over energies and find for T«T_c, T just below T_c, T above T_c (TBD):&lt;/p&gt;

&lt;p&gt;\(C(T\llT_c) = \gamma T = \frac{2\pi^2}{3}N(\xi_k)k_b^2T\)$&lt;/p&gt;

\[C(T\uparrow T_c) = N(\xi_F)k_B \beta^2 \frac{d\Delta^2}{d\beta}\int_{-\infty}^\infty \ptpt{f}{\chi}d\chi\]

\[\frac{\Delta c}{C_{e,norm}} = \frac{9.4}{2\pi/3}\]

&lt;p&gt;And we find the discontinuous jump at $T=T_c$:&lt;/p&gt;

&lt;h1&gt; The quantum model (aka Landau-Ginzburg theory) &lt;/h1&gt;

&lt;p&gt;This theory is only completely valid at $T\approx T_c$&lt;/p&gt;

&lt;p&gt;The ground state wave function ($n_s$ constant over space):&lt;/p&gt;

\[\psi_s(x,t) = |\psi|e^{i\phi}; \qquad |\psi(x,t)|^2 = n_s(x,t) \qquad \nabla \psi_s = i|\psi|e^{i\phi}\nabla \phi\]

&lt;p&gt;Electric systems (canonical momentum operator):&lt;/p&gt;

\[-i\hbar \nabla \psi=\mathbf{\hat{p}} = m^*\mathbf{\hat{v}}_s  + e^* \mathbf{A}\]

&lt;p&gt;We get the London equations again (with an extra factor $\nabla \phi$).&lt;/p&gt;

\[\mathbf{J_s} = - \frac{\mathbf{A}}{\mu_0 \lambda_L^2}+\frac{\hbar}{e^{*}}\nabla \phi\]

&lt;p&gt;Asserting single-valuedness of the wavefunction gives flux quantization over a superconducting ring in flux quanta $\Phi_0 = \frac{h}{2e}$&lt;/p&gt;

\[\Phi = \frac{\hbar}{2e}\oint_\mathcal{C} \nabla \theta \cdot d\ell =\frac{\hbar}{2e}\cdot  2\pi n \Leftrightarrow \frac{\Phi}{\Phi_0} = n\]

&lt;h1&gt; Unconventional superconductors &lt;/h1&gt;

&lt;p&gt;Conventional have $L=0,S=0$ -&amp;gt; singlet.\&lt;/p&gt;

&lt;p&gt;p-wave $L=1$ -&amp;gt; triplet\&lt;/p&gt;

&lt;p&gt;d-wave $L=2$ -&amp;gt; Singlet \&lt;/p&gt;

&lt;p&gt;In general for $L&amp;gt;0$:&lt;/p&gt;

\[\Delta_{\vec{k}}  = - \sum_{\vec{k}&apos;} V_{\vec{k}\vec{k}&apos;}\frac{1-2f(E_{\vec{k}&apos;})}{2E_{\vec{k}&apos;}}\]

&lt;p&gt;Generally:&lt;/p&gt;

\[\Delta_{\vec{k}} = \Delta_0 \cdot \Phi(\vec{k})\]

&lt;p&gt;Also when $Im(\Phi) \neq 0 \Rightarrow $ &lt;i&gt;Time Symmetry is broken&lt;/i&gt;&lt;/p&gt;

&lt;p&gt;Breaking time symmetry $\Leftrightarrow$ a Kerr angle effect is measurable (but it is required to account for all Onsager reciprocity effects).&lt;/p&gt;

&lt;h1&gt; Empiric statements &lt;/h1&gt;

&lt;p&gt;1) An average of 5/7 free electrons works best for higher Tc (alloys of 6+8 electrons work good).
2) A15 (Beta-Tungsten) structure is necessary for high Tc (metal/conventional) superconductivity
3) There are organic superconductors ($KC_8$ with $T_c = 1\unit{K}$ and $K_3C_{60}$ with $T_c = 18\unit{K}$)&lt;/p&gt;

&lt;h2&gt; Handy plots &lt;/h2&gt;
&lt;p&gt;Uemara plot&lt;br /&gt;
Knight shift plot\&lt;/p&gt;

&lt;h1&gt; Footnotes &lt;/h1&gt;
&lt;p&gt;Coming back to our example: scaling the values to simulation values is the same as changing the dimensions where $x$ is in meters, $\tilde{x}$ is in unit ‘simulation meters’ $m^{sim}$ and $c_x$ has the unit $\frac{m^{sim}}{m}$ ‘meters per simulation meter’.&lt;/p&gt;

&lt;p&gt;000014-04EKFM-8FFN3M-X2B7D7-0NGF9D-KATY05-MRGN3X-8Q5HK0-QQ1V0X-YPGJHR&lt;/p&gt;</content><author><name></name></author><category term="simulation" /><category term="magnetism" /><category term="superconductivity" /><summary type="html">$\newcommand{\ket}[1]{\rvert #1 \rangle}$ $\newcommand{\bra}[1]{\langle #1 \lvert}$ $\newcommand{\ptpt}[2]{\frac{\partial #1}{\partial #2}}$ $\newcommand{\unit}[1]{\mathrm{\,#1}}$</summary></entry><entry><title type="html">Changing simulation dimensions - what am I actually simulating?</title><link href="http://localhost:4000/simulation/hall_effect/magnetism/2020/02/23/Changing-dimensions-a-step-by-step-guide.html" rel="alternate" type="text/html" title="Changing simulation dimensions - what am I actually simulating?" /><published>2020-02-23T11:31:06+01:00</published><updated>2020-02-23T11:31:06+01:00</updated><id>http://localhost:4000/simulation/hall_effect/magnetism/2020/02/23/Changing-dimensions-a-step-by-step-guide</id><content type="html" xml:base="http://localhost:4000/simulation/hall_effect/magnetism/2020/02/23/Changing-dimensions-a-step-by-step-guide.html">&lt;p&gt;$\newcommand{\ket}[1]{\rvert #1 \rangle}$
$\newcommand{\bra}[1]{\langle #1 \lvert}$
$\newcommand{\ptpt}[2]{\frac{\partial #1}{\partial #2}}$
$\newcommand{\unit}[1]{\mathrm{\,#1}}$&lt;/p&gt;

&lt;h1&gt; Why would you want to scale the simulation? &lt;/h1&gt;

&lt;p&gt;Hey, welcome to another side adventure where we’ll be looking at a simulation trick: scaling variables. The most important reason is: it makes simulating easier, since you’ll be working with numbers that are tractable for the computer and for you (numbers like one and a 100). In simulations, especially particle simulations, values of $10^{-20}$ to $10^{-30}$ often appear, while the machine precision often only provides that calculations of $10^{-16}$ of the total quantities are working correctly (when adding and subtracting). It also helps for getting interesting physics: you have two effects (let’s say the force of an electric field and the force by other electrons), you can easily change the factor of the electron interaction force so that one of the two dominates. And lastly: it is easier to verify your calculations by hand, since you can set up a system for which you know the dynamics. Here changing the factors does not change the scaled simulated system and the analytical solution (given that you use the scaled variables in the analytical solution). However, say you have a real-life problem, you would still need to actually find the scaling parameters. In this article we will be setting up an interesting system to solve this problem for and then see an elegant way to do this.&lt;/p&gt;

&lt;h1&gt; An interesting system to scale - charged particle simulation &lt;/h1&gt;

&lt;p&gt;Take our charged particle simulator we build to explain the Hall effect. It uses the following equations of motion for each particle $i$:&lt;/p&gt;

\[m_i\mathbf{a}_i = \mathbf{F}_i = \sum_{j\neq i} k_e \frac{q_j q_i}{r_{ij}^2}\mathbf{r}_{ij} + q_i (\mathbf{E}(\mathbf{x}_i) + \mathbf{v}_i\times \mathbf{B}(\mathbf{x}_i))\]

\[\mathbf{a}_i = \frac{d\mathbf{v}_i}{dt}\]

\[\mathbf{v}_i = \frac{d\mathbf{x}_i}{dt}\]

\[\mathbf{r}_{ij} = \mathbf{x}_i - \mathbf{x}_j\]

&lt;p&gt;However, in our simulations, we did not use the actual values $q_i \approx 1.6\cdot 10^{-19}\unit{C}$,$k_e = \approx 9\cdot 10^9 \unit{N\cdot m^2\cdot C^{-2}}$ and $m_i\approx 9.1\cdot 10^{-31}$! We used $k_e = 10^5$ and $q=m=1$ for all particles.&lt;/p&gt;

&lt;p&gt;Instead of changing these parameters, we could also be scaling all other physical quantities ($x,v,a,t,F,E,B$) in our simulation so that the numerical values that the forces take are tractable, such as taking $E=\frac{1}{q} \tilde{E}$, which would cause the term $qE$ to be $\sim 1$. What we want is a systemic way to find out the right scaling laws. Let’s put this into symbols. The values in our simulation are denoted by $\tilde{\cdot}$ while the real values are given as normal. The parameters we changed can be described by:&lt;/p&gt;

\[\begin{align*}
c_q q&amp;amp;=\tilde{q}\\
c_m m&amp;amp;=\tilde{m}\\
c_k k_e &amp;amp;= \tilde{k}_e
\end{align*}\]

&lt;p&gt;And we want to find the scaling laws of:&lt;/p&gt;

\[\begin{align*}
c_x x &amp;amp;= \tilde{x}\\
c_t t &amp;amp;= \tilde{t}\\
c_B B &amp;amp;= \tilde{B}\\
c_E E &amp;amp;= \tilde{E}
\end{align*}\]

&lt;p&gt;As an example, let us look at the equation $F=ma$, which in our simulation will be simulated as $\tilde{F} = \tilde{m}\tilde{a}$. With the above knowledge, the simulation equation gives rise to a relation between the scaling parameters as follows&lt;/p&gt;

\[\tilde{F} = \tilde{m}\tilde{a}\]

\[\begin{equation}c_FF = c_m c_a ma\end{equation}\label{eq:examp1}\]

\[\begin{equation}c_F = c_m c_a\end{equation}\label{eq:examp2}\]

&lt;p&gt;, which means that with a sufficient amount of consistent relations, we should be able to recover all scaling parameters.&lt;/p&gt;

&lt;h1&gt; Dimensional analysis &lt;/h1&gt;

&lt;p&gt;In the realm of physics, a very easy way to check if your calculation is correct is by looking at the units of both sides of the equation. The units of each term on the rhs (right hand side) (where term means every group of variables that is separated by a ‘$+$’) must equal the units of each term on the lhs (left hand side). It is a bit of a stretch, but since our equations must hold whether or not every term is present, each term on the rhs must equal that on the lhs following Equations $\eqref{eq:examp1}$ and $\eqref{eq:examp2}$&lt;/p&gt;

&lt;p&gt;Now look at another example from our simulation - the coloumb force:&lt;/p&gt;

\[\tilde{m}\tilde{\mathbf{a}}_i = -\tilde{k}_e \frac{\tilde{q}_i\tilde{q}_j}{\tilde{r}_{ij}^2}\tilde{\mathbf{r}}_{ij}\]

\[c_m c_a m_ia_i = -c_{k}k_e \frac{c_q^2q_iq_j}{c_x^3r_{ij}^3}c_x\mathbf{r}_{ij}\]

&lt;p&gt;but since $m_ia_i = -k_e \frac{q_iq_j}{r_{ij}^3}\mathbf{r}_{ij}$ in absence of other forces&lt;/p&gt;

\[c_m c_a = c_{k} \frac{c_q^2}{c_x^2}\]

&lt;p&gt;but we can go even further, since $a = \frac{dv}{dt} = \frac{d^x}{dt^2}$. In our language, differentiating in time is the same as dividing by $c_t$ so that&lt;/p&gt;

\[\tilde{a} =\frac{d\tilde{v}}{d\tilde{t}} = \frac{d\frac{d\tilde{x}}{d\tilde{t}}}{d\tilde{t}}  = \frac{d \frac{dc_x x}{dc_tt}}{dc_t t} = \frac{c_x}{c_t^2} \frac{d^2x}{dt^2} = \frac{c_x}{c_t^2}a\]

&lt;p&gt;and this essentially means that $c_a = \frac{c_x}{c_t^2}$ and we fill this in&lt;/p&gt;

\[c_m \frac{c_x}{c_t^2} = c_k \frac{c_q^2}{c_x^2}\]

&lt;p&gt;with which we have found one of the relations we’re going to use.&lt;/p&gt;

&lt;h1&gt; Finding the actual relations &lt;/h1&gt;

&lt;p&gt;We can continue doing this for all terms in the relations:&lt;/p&gt;

\[\begin{equation}\label{eq:all_terms}c_m\frac{c_x}{c_t^2} = c_k \frac{c_q^2}{c_x^2} = c_q c_E = c_q \frac{c_x}{c_t} c_B\end{equation}\]

&lt;p&gt;Let’s take four equations written out (with the knowns on the rhs and the unknowns on the lhs):&lt;/p&gt;

\[\begin{align*}
\frac{c_x^3}{c_t^2} &amp;amp;= \frac{c_k c_q^2}{c_m} \\
\frac{c_x}{c_t^2 c_E} &amp;amp;= \frac{c_q}{c_m} \\
\frac{1}{c_t c_B} &amp;amp;= \frac{c_q}{c_m}\\ 
c_Ec_x^2 &amp;amp;= c_k c_q\\
\frac{c_x^3}{c_t}c_B &amp;amp;= c_k c_q\\
\frac{c_E c_t}{c_B c_x} &amp;amp;= 1
\end{align*}\]

&lt;p&gt;These are all formulas consisting for multiplication and division. This often happens with physical formulas and makes our lives a bit easier, since we can make linear equations of these by defining them in logarithmic terms as $c_{\chi}’ = \log(c_{\chi})$. This reduces to&lt;/p&gt;

\[\begin{align}
\begin{split}
3c&apos;_x - 2c&apos;_t &amp;amp;= c&apos;_k+2c&apos;_q - c&apos;_m \\
c&apos;_x - 2c&apos;_t - c&apos;_E &amp;amp;= c&apos;_q - c&apos;_m \\
-c&apos;_t - c&apos;_B  &amp;amp;= c&apos;_q - c&apos;_m\\ 
c&apos;_E+2c&apos;_x &amp;amp;= c&apos;_k + c&apos;_q\\
3c&apos;_x - c&apos;_t + c&apos;_B &amp;amp;= c&apos;_k + c&apos;_q\\
c&apos;_E + c&apos;_t - c&apos;_B - c&apos;_x &amp;amp;= 0
\end{split}\label{eq:lin_eqs}
\end{align}\]

&lt;p&gt;Let’s look at the rhs first. In our simulation, we use $c_k=\frac{10^5}{9\cdot 10^9},c_q=\frac{1}{1.6\cdot 10^{-19}},c_m=\frac{1}{9.1\cdot 10^{-31}}$. This means we can calculte all rhs. We can actually do this in vector form and do this using a matrix multiplication. This will make it easier to redo the calculation if we decide to change these parameters.&lt;/p&gt;

\[b = Bc&apos;_{known} =  \left[\begin{matrix} c&apos;_k + 2c&apos;_q - c&apos;_m\\
c&apos;_q - c&apos;_m\\
c&apos;_q - c&apos;_m\\
c&apos;_k + c&apos;_q\\
c&apos;_k + c&apos;_q\\
0
\end{matrix}\right] = \left[\begin{matrix} 1&amp;amp;2&amp;amp;-1\\
0&amp;amp;1&amp;amp;-1\\
0&amp;amp;1&amp;amp;-1\\
1&amp;amp; 1 &amp;amp; 0\\
1&amp;amp; 1 &amp;amp; 0\\
0&amp;amp;0&amp;amp;0
\end{matrix}\right] \left[\begin{matrix}c&apos;_k\\ c&apos;_q\\ c&apos;_m\end{matrix}\right]\]

&lt;p&gt;We do the same vectorization of the lhs&lt;/p&gt;

\[A_{unk}c&apos;_{unknown} = \left[\begin{matrix}
3&amp;amp;-2&amp;amp;0&amp;amp;0\\
1&amp;amp; -2 &amp;amp; -1 &amp;amp;0\\
0&amp;amp;-1&amp;amp;0 &amp;amp; -1\\
2&amp;amp; 0 &amp;amp; 1 &amp;amp; 0\\
3&amp;amp; -1 &amp;amp; 0&amp;amp;1\\
-1&amp;amp;1&amp;amp;1&amp;amp;-1
\end{matrix}\right]\left[\begin{matrix}c&apos;_x\\
c&apos;_t\\
c&apos;_E\\
c&apos;_B
\end{matrix}\right] = b\]

&lt;p&gt;and we can really simply put Equations $\eqref{eq:lin_eqs}$ in the following matrix problem&lt;/p&gt;

\[A_{unk}c&apos;_{unknown} = Bc&apos;_{known}\]

&lt;p&gt;we can set up the parameters and calculate it and … it doesn’t work!&lt;/p&gt;

&lt;p&gt;Apparently we have 4 unknowns ((c_x,c_t,c_E,c_B)) and only 3 linearly independent equations (as seen in Equations $\eqref{eq:all_terms}$)! This is however not bad news, since this means that we get another scaling parameter in our simulation to set for free! I have chosen that the magnetic field scales as in real life $c_B =1$. You can recreate the new matrices by moving all terms using $c_B$ from the lhs to the rhs. However, to prevent this from happening again, we force all the equations to be in one big matrix $A$ which is built up like:&lt;/p&gt;

\[\left[A\vert (-B)\right] = \left[\left.\begin{matrix}
3&amp;amp;-2&amp;amp;0&amp;amp;0\\
1&amp;amp; -2 &amp;amp; -1 &amp;amp;0\\
0&amp;amp;-1&amp;amp;0 &amp;amp; -1\\
2&amp;amp; 0 &amp;amp; 1 &amp;amp; 0\\
3&amp;amp; -1 &amp;amp; 0&amp;amp;1\\
-1&amp;amp;1&amp;amp;1&amp;amp;-1
\end{matrix}\right\rvert \begin{matrix} -1&amp;amp;-2&amp;amp;1\\
0&amp;amp;-1&amp;amp;1\\
0&amp;amp;-1&amp;amp;1\\
-1&amp;amp; -1 &amp;amp; 0\\
-1&amp;amp; -1 &amp;amp; 0\\
0&amp;amp;0&amp;amp;0
\end{matrix}\right]\]

&lt;p&gt;where every scaling variable now is one big vector $\mathbf{c’}=[c_x’,c_t’,c_E’,c_B’, c_k’,c_q’,c_m’]$. We just now pick the columns in $A$ corresponding to our known values and define $B = -A_{known}$ and leave the other columns to form $A_{unknown}$. We now have 3 unknowns, so we pick 3 linear independent equations and solve the problem (however, we can use all the rows and let the algorithm decide which ones to use). Below the code to do this in Python with NumPy.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;numpy&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;#A_unknown*c_unkown = A_known*c_known
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;A&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,],&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;#input value / real value
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cp_k&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1e5&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;9e9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cp_q&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.6e-19&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cp_m&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;9.1e-31&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cp_B&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;c_vec&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cp_B&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cp_k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cp_q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cp_m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;A_unk&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[:,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;A_kn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[:,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A_kn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c_vec&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;#If the condition number is too large, the matrix often has too low rank
#to solve Ax=b. It should be around ~1 to 10
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;linalg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cond&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;A_unk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1e2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;Bad matrix: the problem cannot be solved.&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;#If you know the linear independent rows
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;exact_result&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;linalg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;solve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;A_unk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,:],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;indices&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#This should match the results (without knowing indep. rows)
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;exact_result2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;linalg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lstsq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;A_unk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rcond&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;c1&quot;&gt;#Print results
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;A_known:&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; %s&apos;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;A_kn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;A_unknown:&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; %s&apos;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;A_unk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;Result 1: %s&apos;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;exact_result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;Result 2: %s&apos;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;exact_result2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;%s a_real=  a_sim&apos;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;exp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;exact_result2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;a_real = %s a_sim&apos;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;exp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;exact_result2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;which outputs&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;A_known:
 [[ 0  1  2 -1]
 [ 0  0  1 -1]
 [ 1  0  1 -1]
 [ 0  1  1  0]
 [-1  1  1  0]
 [ 1  0  0  0]]
A_unknown:
 [[ 3 -2  0]
 [ 1 -2 -1]
 [ 0 -1  0]
 [ 2  0  1]
 [ 3 -1  0]
 [-1  1  1]]
Result 1: [19.25476617 25.89275033 -6.63798416]
Result 2: [19.25476617 25.89275033 -6.63798416]
[2.30270710e+08 1.75824176e+11 1.30966466e-03] a_real=  a_sim
a_real = [4.34271472e-09 5.68750000e-12 7.63554236e+02] a_sim&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

\[\begin{align*}
c_x &amp;amp;= 2.3\cdot 10^8\\
c_t &amp;amp;= 1.76 \cdot 10^{11}\\
c_E &amp;amp;= 1.31 \cdot 10^{-3}
\end{align*}\]

&lt;p&gt;in other words, a unit of 1 simulation meter is in reality $4.3\unit{nm}$, 1 simulation second is $5.6\unit{fs}$ and an electric field of 1 simulation volt per simulation meter is $760 \frac{V}{m}$. That’s good to know!&lt;/p&gt;

&lt;h1&gt; Footnotes &lt;/h1&gt;
&lt;p&gt;Coming back to our example: scaling the values to simulation values is the same as changing the dimensions where $x$ is in meters, $\tilde{x}$ is in unit ‘simulation meters’ $m^{sim}$ and $c_x$ has the unit $\frac{m^{sim}}{m}$ ‘meters per simulation meter’.&lt;/p&gt;</content><author><name></name></author><category term="simulation" /><category term="hall_effect" /><category term="magnetism" /><summary type="html">$\newcommand{\ket}[1]{\rvert #1 \rangle}$ $\newcommand{\bra}[1]{\langle #1 \lvert}$ $\newcommand{\ptpt}[2]{\frac{\partial #1}{\partial #2}}$ $\newcommand{\unit}[1]{\mathrm{\,#1}}$</summary></entry><entry><title type="html">The Landau Levels</title><link href="http://localhost:4000/quantum_mechanics/magnetism/electrons/landau/2020/02/21/Landau-levels.html" rel="alternate" type="text/html" title="The Landau Levels" /><published>2020-02-21T09:42:06+01:00</published><updated>2020-02-21T09:42:06+01:00</updated><id>http://localhost:4000/quantum_mechanics/magnetism/electrons/landau/2020/02/21/Landau-levels</id><content type="html" xml:base="http://localhost:4000/quantum_mechanics/magnetism/electrons/landau/2020/02/21/Landau-levels.html">&lt;p&gt;The Hamiltonian:&lt;/p&gt;

&lt;p&gt;The Hamiltonian for a (single) particle in an EM field is:&lt;/p&gt;

\[\hat{H} = \frac{1}{2m}[(\mathbf{p}-q\mathbf{A}(\mathbf{r},t))^2 + q\phi(\mathbf{r},t)]\]

&lt;p&gt;where $m$ is the mass of the particle, $\mathbf{p} = -i\hbar\nabla$, $\mathbf{A}$ is the vector potential so that magnetic field $\mathbf{B} = \nabla \times \mathbf{A}$, $q$ the electric charge for the particle (and $q=-e$ for an electron), and $\phi$ the electric potential such that the electric field $\mathbf{E} = -\nabla \phi -\frac{\partial A}{\partial t}$ .&lt;/p&gt;

&lt;p&gt;The part $(\mathbf{p}-q\mathbf{A}(\mathbf{r},t))^2$ can be written out as :&lt;/p&gt;

\[\mathbf{p}^2 - q\mathbf{p}\cdot \mathbf{A} - q\mathbf{A}\cdot \mathbf{p} + q^2 \mathbf{A}^2\]

&lt;p&gt;Under some test function $\psi$, we can see that
\(- q\mathbf{p}\cdot \mathbf{A}\psi - q\mathbf{A}\cdot \mathbf{p}\psi  = i\hbar q\nabla \cdot (A\phi) +i\hbar q A\cdot (\nabla \phi)\)
\(=i\hbar q(\nabla \cdot A)\phi + i\hbar q (\nabla \phi)\cdot A +i\hbar q A\cdot (\nabla \phi)\)
\(= [-q(\mathbf{p}\cdot \mathbf{A}) - 2q \mathbf{A}\cdot\mathbf{p} ]\)
so that finally:&lt;/p&gt;

\[\mathbf{p}^2 - q(\mathbf{p}\cdot \mathbf{A}) - 2q\mathbf{A}\cdot \mathbf{p} + q^2 \mathbf{A}^2\]

&lt;p&gt;Now let’s say we have $\mathbf{B}=B\hat{z}$, then we have electric potential $\phi = 0$ and for example vector potential $\mathbf{A} = [-B/2y,B/2x,0]$. Notice that $\nabla \cdot \mathbf{A} =0 $&lt;/p&gt;

&lt;p&gt;let’s fill it in:
\(\hat{H} = \frac{1}{2m}[\mathbf{p}^2 - q(\mathbf{p}\cdot \mathbf{A}) - 2q\mathbf{A}\cdot \mathbf{p} + q^2 \mathbf{A}^2]+ q\phi(\mathbf{r},t)]\)&lt;/p&gt;

\[= \frac{1}{2m}[-\hbar \nabla^2 + i\hbar q(\nabla\cdot \mathbf{A}) +2i\hbar q\mathbf{A}\cdot \nabla + q^2 \frac{B^2}{4}(x^2 +y^2)]\]

&lt;p&gt;now trying to solve the Schrodinger equation:&lt;/p&gt;

\[2mE\psi = -\hbar \nabla^2 \psi +2i\hbar q \mathbf{A} \cdot (\nabla \psi) + q^2 \frac{B^2}{4} (x^2 + y^2) \psi\]

&lt;p&gt;we decompose $\psi(x,y,z)$ into $R(x,y)Z(z)$ and find that $Z(z)$ will be a solution of $\mu = p_z Z(z)$ and&lt;/p&gt;

\[(2mE-\mu)R(x,y) = -\hbar \nabla_{x,y}^2 R(x,y) +2i\hbar q \mathbf{A} \cdot (\nabla_{x,y} R(x,y)) + q^2 \frac{B^2}{4} (x^2 + y^2) R(x,y)\]

&lt;p&gt;we use a coordinate transformation to polar coordinates $(x,y) = (r\cos(\theta),r\sin(\theta))$ such that $\nabla^2 f(r,\theta) = \nabla_r^2 f(r,\theta) + \frac{1}{r} \nabla_r f(r,\theta) +\frac{1}{r^2} \nabla_\theta^2 f(r,\theta)$ and $\nabla f(r,\theta) = \nabla_r f(r,\theta)\hat{r} + \frac{1}{r} \nabla_\theta f(r,\theta)\hat{\theta}$ and $A = [0,\frac{1}{2}Br,0]$&lt;/p&gt;

\[(2mE-\mu)\Psi(r,\theta) = -\hbar \nabla_{r,\theta}^2 \Psi(x,y) +2i\hbar q \mathbf{A} \cdot (\nabla_{r,\theta} \Psi(r,\theta)) + q^2 \frac{B^2r^2}{4} \Psi(r,\theta)\]

&lt;p&gt;we immediately think: this can be decomposed into $\Psi(r,\theta) = R(r)\Theta(\theta)$&lt;/p&gt;

\[(2mE-\mu) = [-\frac{\hbar}{R} \frac{\partial^2}{\partial r^2} R(r) - \frac{\hbar}{r R}\frac{\partial}{\partial r} R + \frac{q^2 B^2 r^2}{4}] + [2i\hbar q \frac{B}{2\Theta}\frac{\partial}{\partial \theta}\Theta + \frac{1}{r^2 \Theta} \frac{\partial^2}{\partial \theta ^2 }\Theta]\]</content><author><name></name></author><category term="quantum_mechanics" /><category term="magnetism" /><category term="electrons" /><category term="landau" /><summary type="html">The Hamiltonian:</summary></entry><entry><title type="html">Handy QM equations</title><link href="http://localhost:4000/quantum_mechanics/summary/2020/02/21/Compendium-of-handy-equations-in-QM.html" rel="alternate" type="text/html" title="Handy QM equations" /><published>2020-02-21T09:42:06+01:00</published><updated>2020-02-21T09:42:06+01:00</updated><id>http://localhost:4000/quantum_mechanics/summary/2020/02/21/Compendium-of-handy-equations-in-QM</id><content type="html" xml:base="http://localhost:4000/quantum_mechanics/summary/2020/02/21/Compendium-of-handy-equations-in-QM.html">&lt;p&gt;$\newcommand{\ket}[1]{\rvert #1 \rangle}$
$\newcommand{\bra}[1]{\langle #1 \lvert}$
$\newcommand{\expval}[1]{\langle #1 \rangle}$
$\newcommand{\ptpt}[2]{\frac{\partial #1}{\partial #2}}$
$\newcommand{\unit}[1]{\mathrm{\,#1}}$&lt;/p&gt;

&lt;h1&gt; Schrödinger equation &lt;/h1&gt;

\[i\hbar \frac{d\Psi(x,t)}{dt} = \hat{\mathcal{H}} \Psi(x,t)\]

&lt;h1&gt;Constants and values&lt;/h1&gt;
&lt;p&gt;Flux quantum:&lt;/p&gt;

\[\Phi_0 = 2\pi \hbar/e\]

&lt;h1&gt;The wave function and probabilities &lt;/h1&gt;

&lt;h1&gt;The Hamiltonian&lt;/h1&gt;

&lt;p&gt;If $\ket{n}$ is an eigenstate of the Hamiltonian:&lt;/p&gt;

\[\bra{n}\hat{H}\ket{n} = E_n\]

&lt;p&gt;\(\bra{n}\ket{m} = 1\) if $m=n$&lt;/p&gt;
&lt;h1&gt;Operators&lt;/h1&gt;
&lt;p&gt;In the Heisenberg picture $A_H = U^\dagger(t) A_S U(t)$ (incl. for $\hat{H}$)&lt;/p&gt;

\[\frac{d}{dt}A_H(t) = \frac{i}{\hbar}[H_H(t),A_H(t)] + \left(\ptpt{A_S}{t}\right)_H\]

&lt;p&gt;Observables are &lt;em&gt;Hermitian&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;The energy of a particle is always $E&amp;gt;V_{min}$ in the Time-independent Schrodinger equation.&lt;/p&gt;

&lt;p&gt;The eigenfunctions/values with a discrete spectra of a Hermitian operator are always real.&lt;/p&gt;

&lt;p&gt;The eigenfunctions/values with a discrete spectra of a Hermitian operator are always orthonormal, if they are degenerate, we can make them orthonormal.&lt;/p&gt;

&lt;p&gt;The eigenfunction/values of a discrete spectra of a Hermition operator with finite dimensional values is complete.&lt;/p&gt;

&lt;p&gt;The eigenfunction of a continous spectrum with a real eigenvalue is Dirac orthonormal ($\bra{f_x}\ket{f_y} = \delta(x-y)$)&lt;/p&gt;

&lt;p&gt;The normalizable eigenfunctions/eigenfunctions in Hilbert space of a continous spectrum has real eigenvalues.&lt;/p&gt;

&lt;h1&gt;Commutation&lt;/h1&gt;

&lt;p&gt;Generalized uncertainty relation (with operators $A$ and $B$) ($\Delta A  = \langle A^2 \rangle  - \langle A \rangle^2$):&lt;/p&gt;

\[\Delta A \Delta B \geq \left( \frac{\langle [A,B]\rangle}{2i}\right)^2\]

&lt;p&gt;Ultra generalized uncertainty relation (with operators $A$ and $B$) ($\Delta A  = \langle A^2 \rangle  - \langle A \rangle^2$):&lt;/p&gt;

\[\Delta A \Delta B \geq  \frac{\langle -i[A,B]\rangle^2+\langle \{A,B\} - 2\expval{A}\expval{B}\rangle^2}{4}\]

&lt;p&gt;If \(\left[\hat{A},\hat{B}\right]=0\) and $\ket{\psi}$ is an eigenfunction of $\hat{A}$ with eigenvalue $A_n$ then $\hat{B}\ket{\psi}$ is also an eigenfunction of $\hat{A}$ with eigenvalue $A_n$ (and vice versa)&lt;/p&gt;

\[\hat{A}(\hat{B}\ket{n}_A) = \hat{B}(\hat{A}\ket{n}_A)= \hat{B}(A_n \ket{n}_A) = A_n(\hat{B}\ket{n}_A)\]

&lt;h1&gt;Perturbation theory&lt;/h1&gt;
&lt;p&gt;For $\hat{H} = \hat{H}_0 + \hat{H}’$ where the eigenstates/eigenenergies to $\hat{H}_0$ are $E^0_n$ and $\psi^0_n$ and a non-degenerate energy level:&lt;/p&gt;

\[E_n^1  = \bra{\psi_n^0}H&apos;\ket{\psi_n^0}\]

&lt;p&gt;Second order perturbation energy diff:&lt;/p&gt;

\[E_n^2 = \sum_{m\neq n} \frac{\lvert\bra{\psi^0_n}H&apos;\ket{\psi^0_m}\rvert^2}{E_n^0 - E_m^0}\]

&lt;p&gt;Pre-fermi’s Golden Rule ($H_0 + H’(t)$, $\ket{\psi(t)} = \sum_n a_n(t) e^{iE^0_nt/\hbar}\ket{\psi_n^0}$):&lt;/p&gt;

\[i\hbar\ptpt{a_k(t)}{t} = \sum_n a_n(t) \bra{\psi_k^0}H&apos;\ket{\psi_n^0}e^{it(E^0_k-E^0_n)/\hbar}\]

&lt;p&gt;Fermi’s Golden Rule (from initial eigenstate $\ket{i}$ to all other continuum eigenstates $\ket{n}$)&lt;br /&gt;
where the coupling $g(E_n)$ of $n$ and $i$ is continuous over $n$&lt;br /&gt;
where $t&amp;lt;t_H = \frac{2\pi \hbar}{\Delta}\approx 2\pi\hbar \rho(E_i)$, with $\Delta$ the energy spacing of the ‘continuum’&lt;br /&gt;
and where $E_i$ far from continuum thresholds $t\gg\frac{2\pi \hbar}{|E_b-a|}$&lt;br /&gt;
and where $H’\ll H_0$:&lt;/p&gt;

\[\Gamma_{i\rightarrow cont} = \frac{2\pi}{\hbar} \sum_n |g_{n}|^2 \delta (E_i-E_n) \approx \frac{2\pi}{\hbar} |g(E_i)|^2 \rho_{DOS}(E_i)\]

&lt;p&gt;$g(E_n) = g_n = \bra{n}H’\ket{i}$, $\rho(\epsilon)$ the density of states, $t_H$ called the Heisenberg time.&lt;/p&gt;

&lt;p&gt;Second order Fermi’s Golden rule (virtual excitations):&lt;/p&gt;

\[\Gamma_{i\rightarrow f}^{(2)} = \frac{2\pi}{\hbar}  |\sum_v \frac{H&apos;_{fv}H&apos;_{vi}}{E_v-E_i}|^2 \delta (E_i-E_f)\]

&lt;h1&gt;Gauge invariance&lt;/h1&gt;

&lt;h1&gt;Analytical solutions&lt;/h1&gt;

&lt;p&gt;Landau levels (energy):&lt;/p&gt;

\[E_n = \frac{1}{2}\omega_B(n+\frac{1}{2}) \qquad \omega_B = \lvert\frac{qB}{m}\rvert\]

&lt;p&gt;Zeeman splitting (spin 1/2, free electrons, g=2):&lt;/p&gt;

\[E = g\mu_B B \qquad \mu_B = \frac{e\hbar}{2m}\]

&lt;p&gt;Two-electron system spin operator eigenstates of 
\(\vec{S}^2 = \vec{S}^2_1 + \vec{S}_2^2 = S_x^2+S_y^2+S_z^2\) and \(S_z = S_{z1}+S_{z2}\)&lt;/p&gt;

&lt;p&gt;\(S^2 = 0, S_z =0\qquad \ket{\psi} = \frac{1}{\sqrt{2}}(\ket{\uparrow\downarrow}-\ket{\downarrow\uparrow})\qquad (singlet)\)
\(S^2 = 1, S_z =1\qquad \ket{\psi} = \ket{\uparrow\uparrow}\qquad (triplet)\)
\(S^2 = 1, S_z =0\qquad \ket{\psi} = \frac{1}{\sqrt{2}}(\ket{\uparrow\downarrow}+\ket{\downarrow\uparrow})\qquad (triplet)\)
\(S^2 = 1, S_z =-1\qquad \ket{\psi} = \ket{\downarrow\downarrow}\qquad (triplet)\)&lt;/p&gt;

&lt;p&gt;Eigenvalues of \(\vec{S}_1\cdot \vec{S}_2\):&lt;/p&gt;

\[\langle \vec{S}_1\cdot \vec{S}_2 \rangle_{triplet} = \frac{1}{4}\hbar^2 \qquad  \langle \vec{S}_1\cdot \vec{S}_2 \rangle_{singlet} = -\frac{3}{4}\hbar^2\]

&lt;p&gt;Hamiltonian that gives the eigenstates and eigenvalues of the 2-spin operator $\mathbf{S}_1\cdot \mathbf{S}_2$ is:&lt;/p&gt;

\[\hat{H} = \frac{1}{4}(E_s+3E_t) - (E_s - E_t) \mathbf{S}_1\cdot \mathbf{S}_2 = C - J \mathbf{S}_1\cdot \mathbf{S}_2\]

&lt;p&gt;with $E_s = -3/4\hbar^2 $ and $E_t = 1/4 \hbar^2$ and $J = (E_s - E_t)$&lt;/p&gt;

&lt;h1&gt; Other models (unsolved) &lt;/h1&gt;
&lt;p&gt;Hubbard model: \(H = - J\sum S_i S_j\) and &lt;br /&gt;
if $J&amp;gt;0: S_i\parallel S_j$&lt;br /&gt;
If $J&amp;lt;0$: $S_i \text{ not }\parallel S_j$&lt;/p&gt;

&lt;h1&gt;Calculation tools of quantum mechanics &lt;/h1&gt;
&lt;p&gt;Adiabatic theorem:&lt;br /&gt;
&lt;em&gt;If we place a system in a non-degenerate eigenstate $\ket{n}$ and vary the parameters of the Hamiltonian sufficiently slowly, the system will stay in the eigenstate $\ket{n}$ if no level-crossings are encountered.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Berry connection $\mathcal{A}_j(\lambda)$(under adiabatic change of parameters $\lambda^j$ of eigenstate $\ket{n}(\lambda(t))$ with constant energy $E_n(\lambda(t)) = 0$)&lt;a href=&quot;https://arxiv.org/pdf/1606.06687.pdf&quot;&gt;ref&lt;/a&gt;:&lt;/p&gt;

\[\mathcal{A}_j(\lambda) = -i\bra{n}\frac{\partial \ket{n}}{\partial \lambda^j}\]

&lt;p&gt;Berry phase: the phase acquired (next to the energy dynamical phase) by changing parameters $\lambda^j$ adiabatically:&lt;/p&gt;

\[e^{i\gamma} = \exp(-i\oint_C\mathcal{A}_j (\lambda)d\lambda^j)\]

&lt;p&gt;‘Gauge’ invariance of Berry connection (with starting state $\ket{n’} = e^{i\omega(\lambda)}\ket{n}$:&lt;/p&gt;

\[\mathcal{A}&apos;_j(\lambda) = \mathcal{A}_j(\lambda) + \frac{\partial \omega(\lambda)}{\partial \lambda^j}\]

&lt;p&gt;Berry curvature (all physical phase information):&lt;/p&gt;

\[\mathcal{F}_{ij}= \ptpt{\mathcal{A}_j}{\lambda^j}\]

&lt;p&gt;Berry curvature quantization theorem:&lt;br /&gt;
&lt;em&gt;For any closed surface $S$, we find that $\oint_S \mathcal{F}_{ij} dS^{ij} =2 \pi k$ for $k\in\mathcal{Z}$&lt;/em&gt;&lt;/p&gt;

&lt;h1&gt; Postulates of quantum mechanics &lt;/h1&gt;

&lt;p&gt;&lt;em&gt;There exist identical particles are indistinguishable&lt;/em&gt; -&amp;gt; Permutation of every pair of identical particles in a system follows the same Hamiltonian&lt;/p&gt;

&lt;p&gt;&lt;em&gt;For a system of $N$ identical particles, the symmetry posulate requires it to be fully symmetric or fully anti-symmetric&lt;/em&gt; (there could be some subspaces in which you could work otherwise, giving \hat{P}_{123}\psi=e^{i2\pi/3}\psi).&lt;/p&gt;

&lt;h1&gt;Other useful theorems of quantum mechanics &lt;/h1&gt;

&lt;p&gt;For identical particles: the Hamiltonian is invariant under permutation (operator $\hat{P}_{ij}$, where $\lambda_P = \pm 1$ and $\hat{P}^2 = 1$ and $\hat{P} = \hat{P}^\dagger$):
\(\hat{H}(r_1,r_2,...,r_i,...,r_j,...,r_N)= \hat{H}(r_1,r_2,...,r_j,...,r_i,...,r_N) \Leftrightarrow \hat{P}_{ij}\hat{H} \hat{P}_{ij} = \hat{H} \Leftrightarrow [\hat{P},\hat{H}]=0\)&lt;/p&gt;

&lt;p&gt;Time reversal symmetry (defined as \(\hat{\mathcal{T}}\hat{\mathcal{H}}= \hat{\mathcal{H}}\hat{\mathcal{T}}\)) using the Schrodinger equation:&lt;/p&gt;

\[\hat{\mathcal{T}} = \hat{\mathcal{K}} (when no spin)\]

\[\hat{\mathcal{T}} = i\sigma^y \hat{\mathcal{K}} (with spin)\]

&lt;p&gt;where $\hat{\mathcal{K}}$ is the complex conjugation operator. Other time-reversal results:&lt;/p&gt;

\[\hat{\mathcal{T}}\vec{\mu} = -\vec{\mu}\]

\[E_{EM}(x,t) \propto e^{-ikz}\qquad\hat{\mathcal{T}}E_{EM}(x,t) = E_{EM}(x,-t) \propto e^{+ikz}\]

&lt;p&gt;Fermion permutation operator:
\(\Psi(r_1,r_2,...,r_i,...,r_j,...,r_N)= -1 \Psi(r_1,r_2,...,r_j,...,r_i,...,r_N)\)&lt;/p&gt;

&lt;p&gt;Boson permutation operator:
\(\Psi(r_1,r_2,...,r_i,...,r_j,...,r_N)= +1 \Psi(r_1,r_2,...,r_j,...,r_i,...,r_N)\)&lt;/p&gt;

&lt;p&gt;Anyon permutation operator ($\theta_{ij}=\pi (1-\frac{1}{v}), v\in\mathbb{Z}$):
\(\Psi(r_1,r_2,...,r_i,...,r_j,...,r_N)= e^{i\theta_{ij}} \Psi(r_1,r_2,...,r_j,...,r_i,...,r_N)\)&lt;/p&gt;

&lt;p&gt;For symmetric potentials, the wavefunctions are alternatively even and odd (ground state even, 1st state odd, etc.)\&lt;/p&gt;

&lt;p&gt;Every more excited state has an extra zero-crossing in the wavefunction.\&lt;/p&gt;

&lt;p&gt;Most stationary state solutions (wavefunctions) of the Hamiltonian are orthogonal.&lt;/p&gt;

&lt;p&gt;Most stationary states are complete.&lt;/p&gt;</content><author><name></name></author><category term="quantum_mechanics" /><category term="summary" /><summary type="html">$\newcommand{\ket}[1]{\rvert #1 \rangle}$ $\newcommand{\bra}[1]{\langle #1 \lvert}$ $\newcommand{\expval}[1]{\langle #1 \rangle}$ $\newcommand{\ptpt}[2]{\frac{\partial #1}{\partial #2}}$ $\newcommand{\unit}[1]{\mathrm{\,#1}}$</summary></entry><entry><title type="html">The Hall effects</title><link href="http://localhost:4000/electromagnetism/magnetism/simulation/hall_effect/2020/02/17/Hall-effects.html" rel="alternate" type="text/html" title="The Hall effects" /><published>2020-02-17T15:50:06+01:00</published><updated>2020-02-17T15:50:06+01:00</updated><id>http://localhost:4000/electromagnetism/magnetism/simulation/hall_effect/2020/02/17/Hall-effects</id><content type="html" xml:base="http://localhost:4000/electromagnetism/magnetism/simulation/hall_effect/2020/02/17/Hall-effects.html">&lt;p&gt;$\newcommand{\ket}[1]{\rvert #1 \rangle}$
$\newcommand{\bra}[1]{\langle #1 \lvert}$
$\newcommand{\ptpt}[2]{\frac{\partial #1}{\partial #2}}$
$\newcommand{\unit}[1]{\mathrm{\,#1}}$&lt;/p&gt;

&lt;p&gt;Check
&lt;img src=&quot;/assets/anim1.webp&quot; alt=&quot;A couple of electrons in a magnetic and electric field&quot; /&gt;
Introduction&lt;/p&gt;

&lt;p&gt;In the time I have been on my university, I have actually never seen a simulation of charged particles in a field. It either was a &lt;a href=&quot;https://phet.colorado.edu/sims/html/charges-and-fields/latest/charges-and-fields_en.html&quot;&gt;static field of charged particles&lt;/a&gt;, a single electron in a magnetic field &lt;a href=&quot;https://ophysics.com/em7.html&quot;&gt;1&lt;/a&gt;,&lt;a href=&quot;https://techforcurious.website/simulation-of-motion-of-charged-particle-in-electric-field-vpython-tutorial-7-visual-python/&quot;&gt;2&lt;/a&gt; or a paper about the different kind of motions in the &lt;a href=&quot;http://publications.lib.chalmers.se/records/fulltext/250827/250827.pdf&quot;&gt;fusion reactor&lt;/a&gt;. The simulations of a collection of electrons in a magnetic and electric field are never shown.&lt;/p&gt;

&lt;p&gt;It was always a representation of a particle and the solved analytical equations governing the particle already calculated. I was wondering why this was, especially since it actually is very enlightening to calculate all the values yourself. For example, I made a particles in a box simulation with a lot of particles colliding, and could actually measure the Maxwell velocity distribution from that (and really hammered down how to think about temperature and pressure in these systems). Maybe this can be made its own post, but for now I would like to do the same for electrons in a small metallic plate. This effectively means that our problem is 2D, only the x and y directions matter. However, we still put our magnetic field in the third direction, the z-direction.&lt;/p&gt;

&lt;p&gt;First you have to know that charged particles (electrons, protons) in an electric field move towards the electric field in absence of a magnetic field. And also, particles move in a circle with a radius depending on their velocity, depending on the magnetic field.&lt;/p&gt;

&lt;p&gt;This all is described by the Lorentz force:&lt;/p&gt;

\[m\mathbf{a} = \mathbf{F}= q(\mathbf{E} + \mathbf{v}\times\mathbf{B})\]

&lt;p&gt;Say $\mathbf{B} = B_z \hat{z}$, and $E_z = 0$ so that $v_z = constant$:&lt;/p&gt;

\[\left[\begin{matrix}
\dot{v_x}\\
\dot{v_y}
\end{matrix}\right] = \frac{q}{m}\left[\begin{matrix}
E_x + B_z v_y\\
E_y - B_z v_x\end{matrix}\right]\]

&lt;p&gt;defining $v’_x = (v_x -E_y/B_z)$ and $v’_y = (v_y + E_x/B_z)$ we can find&lt;/p&gt;

\[\left[\begin{matrix}
\dot{v&apos;_x}\\
\dot{v&apos;_y}
\end{matrix}\right] = \frac{q}{m}\left[\begin{matrix}
B_z v&apos;_y\\
- B_z v&apos;_x\end{matrix}\right]\]

&lt;p&gt;The most general solution is (we can actually find the solution using a &lt;a href=&quot;https://en.wikipedia.org/wiki/Matrix_differential_equation&quot;&gt;cooler method using matrices&lt;/a&gt;, but thats for another time):&lt;/p&gt;

\[\begin{align*}
v_x&apos; &amp;amp;= A\sin(q/m B_z t)\\
v_y&apos; &amp;amp;= A\cos(q/m B_z t)\end{align*}\]

&lt;p&gt;where $A$ can actually be a complex number.
We can transform this back to our original problem:&lt;/p&gt;

\[\begin{align*}
v_x &amp;amp;= A\sin(q/m B_z t) + E_y/B_z\\
v_y &amp;amp;= A\cos(q/m B_z t) - E_x/B_z\end{align*}\]

&lt;p&gt;We can find the value for $A=\lvert A\rvert e^{i\phi}$ by finding&lt;/p&gt;

\[\sqrt{(v_x(t=0)-E_y/B_z)^2 +(v_y(t=0)+E_x/B_z)^2} = A\]

\[\phi = \angle(v_x,v_y)\]

&lt;p&gt;This means that the values of the position (given a static homogeneous electric field and a static magnetic field):&lt;/p&gt;

\[\begin{align*}
x(t) &amp;amp;= -\frac{Am}{qB_z}\cos(\frac{q}{m} B_z t) + E_y/B_z t + C_1\\
y(t) &amp;amp;= \frac{Am}{qB_z}\sin(q/m B_z t) - E_x/B_z t+ C_2\end{align*}\]

&lt;p&gt;where $C_1 = x_0 + \frac{Am}{qB_z}\cos(\phi)$ and $C_2 = y_0 - \frac{Am}{qB_z}\sin(\phi) $&lt;/p&gt;

&lt;h1&gt;Simulation&lt;/h1&gt;

&lt;p&gt;A naive simulation method would be to input the (perpendicular) magnetic field strength $B_z$ and the electric field $E_x,E_y$ and just integrate using LeapFrog (a symplectic integration method, meaning that there will be conservation of energy without external forces if the time step is small enough).
This is given as&lt;/p&gt;

\[\begin{align*}
a_{i} &amp;amp;= F(x_i)/m_i\\
v_{i+1/2} &amp;amp;= v_{i-1/2} + a_{i} *\Delta t\\
x_{i+1} &amp;amp;= x_{i} + v_{i+1/2} *\Delta t\\
\end{align*}\]

&lt;p&gt;with time step $\Delta t$.&lt;/p&gt;

&lt;p&gt;See the result:…&lt;/p&gt;

&lt;p&gt;This does not work: it diverges from the analytical solution. A better solution would be the Boris algorithm:&lt;/p&gt;

\[\begin{align*}
q&apos; = \Delta t \frac{q}{2m}\\
\mathbf{h} = q&apos;*\mathbf{B}_i\\
u = \mathbf{v}_{i-1/} + q&apos;*\mathbf{E}\\
s= 2*\mathbf{h}/(1+\lvert h\rvert^2)\\
u&apos;= u+(\mathbf{u}+(u\times h)) \times s\\
v_{i+1/2} = u&apos;+ q&apos;*E_i\\
x_{i+1} = x_i + v_{i+1/2}*\Delta t
\end{align*}\]

&lt;p&gt;A big longer but extremely stable up to an enormous scale.\&lt;/p&gt;

&lt;p&gt;Now for the surprising simulation results:
Bleep bloop
Insert circular
Insert the quadratic speedup in only electric field
Insert electric field and magnetic field: show helical behaviour!!
See if I can speed up the simulation some way..
See if I can make the simulation better.&lt;/p&gt;

&lt;h1&gt; The Hall Effect &lt;/h1&gt;

&lt;p&gt;Let’s see what ingredients we need for the Hall effect:\&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;An electric field in the X direction that causes the electrons to flow (which is by definition the voltage $V = EL_x$ where $L_x$ is the length of the metal plate)&lt;/li&gt;
  &lt;li&gt;A adjustable magnetic field.&lt;/li&gt;
  &lt;li&gt;A constant stream of electrons.&lt;/li&gt;
&lt;/ol&gt;

&lt;h2&gt; Theoretical expectation &lt;/h2&gt;
&lt;p&gt;The theoretical solution from the simplistic Drude model with a magnetic field $\mathbf{B}=B_z \hat{z}$ finds:&lt;/p&gt;

\[\mathbf{J} \left(1 + \frac{e\tau}{m}\left[\begin{matrix}0&amp;amp;B_z\\-B_z&amp;amp;0\end{matrix}\right]\right) = \frac{ne^2\tau}{m}\mathbf{E}\]

&lt;p&gt;where $\mathbf{J} = -ne\mathbf{v}$ the current density and where the scatering time $\tau$ can be seen as the average time an electron moves until it hits an atom and moves into an entirely random direction. However, we can take $\tau\rightarrow \infty$ and the Hall effect should still be visible. This can be simplified to:&lt;/p&gt;

\[\mathbf{J} = \sigma \mathbf{E} = \frac{\sigma_{B=0}} {1+\omega_B^2\tau^2}\left[\begin{matrix}1&amp;amp; -\omega_B \tau \\ \omega_B \tau &amp;amp; 1\end{matrix}\right]\mathbf{E}\]

&lt;p&gt;where $\omega_B = \frac{B_z e}{m}$ and $\sigma_{B=0} = \frac{ne^2 \tau}{m}$ or&lt;/p&gt;

\[\rho \mathbf{J} = \left[\begin{matrix}\frac{m}{ne^2\tau}&amp;amp; \frac{B_z}{ne }\\-\frac{B_z}{ne} &amp;amp; \frac{m}{ne^2\tau}\end{matrix}\right]= \mathbf{E}\]

&lt;p&gt;We should eventually see:&lt;/p&gt;

\[\rho_{xy} = (\sigma^{-1})_{xy}= \frac{B}{ne}\]

&lt;p&gt;where $\mathbf{J} = \sigma \mathbf{E}$&lt;/p&gt;

&lt;p&gt;Fun fact, $\sigma_{xy}\neq 0$ would mean that a current would be flowing in the $x$-direction if we would put an electric field/voltage on the $y-axis$.&lt;/p&gt;

&lt;p&gt;Now for our simulation, lets try to copy an existing experiment. I don’t know how well it will go though.&lt;/p&gt;

&lt;p&gt;Let’s take Copper. Copper has an electron density of $n=8.49\cdot 10^{28} \unit{m^{-3}}$
The strip will be $t= 2\unit{\mu m}$ thick, $w=100\unit{\mu m}$ wide and $\ell = 100\unit{\mu m}$ long. 
We will apply a magnetic field of $1\unit{T}$ and a voltage of $V_x = 1 \unit{V}$ over the two end. We would expect as a result $R_H = \frac{E_y}{I_x} = \frac{1}{ne} = 0.74 \cdot 10^{-10} \unit{\frac{m^3}{C}}$. Note: the measured value of $R_H$ of copper is $\sim -0.5$&lt;/p&gt;

&lt;p&gt;To actually calculate this, we need $E_y$ to be constant, $I_x = \lvert nev_x\rvert$.&lt;/p&gt;

&lt;h2&gt; No magnetic field &lt;/h2&gt;

&lt;h2&gt; No electric field &lt;/h2&gt;

&lt;h2&gt; Electric field and magnetic field&lt;/h2&gt;

&lt;p&gt;Appendix:&lt;/p&gt;

&lt;p&gt;Cooler solution using matrices:&lt;/p&gt;

\[\left[\begin{matrix}
\dot{v&apos;_x}\\
\dot{v&apos;_y}
\end{matrix}\right] = \frac{q}{m}\left[\begin{matrix}
B_z v&apos;_y\\
- B_z v&apos;_x\end{matrix}\right]=\frac{q}{m}\left[\begin{matrix}
0 &amp;amp;\frac{qB_z}{m}\\
-\frac{qB_z}{m} &amp;amp;0
\end{matrix}\right]\left[\begin{matrix}
v&apos;_x\\
v&apos;_y\end{matrix}\right]= \mathbf{A} \mathbf{v&apos;}\]

&lt;p&gt;Finding the eigenvalues of the matrix $\mathbf{A}$ gives us $\lambda =\pm \frac{qB_z}{m}i$
Find the eigenvector corresponding to $\lambda_\pm = \pm\frac{qB_z}{m}i$:&lt;/p&gt;

\[\begin{align*}
\mathbf{u}_+ &amp;amp;= \frac{1}{\sqrt{2}}\left[\begin{matrix}-i\\1\end{matrix}\right]\\
\mathbf{u}_- &amp;amp;= \frac{1}{\sqrt{2}}\left[\begin{matrix}+i\\1\end{matrix}\right]\end{align*}\]

&lt;p&gt;Giving us the final solution (we absorb the factor $\sqrt{2}$ in $c_1,c_2$:
\(\mathbf{v} = c_1 \left[\begin{matrix}-i\\1\end{matrix}\right] e^{\frac{qB_z}{m}it}+ c_2 \left[\begin{matrix}+i\\1\end{matrix}\right] e^{-\frac{qB_z}{m}it}\)
Now we need to solve for this, but before we do that, we enforce that the solution for $\mathbf{v}$ is not complex.&lt;/p&gt;

&lt;p&gt;Do the math…&lt;/p&gt;

&lt;p&gt;Now we find, as above:
\(\begin{align*}
v&apos;_x &amp;amp;= A\sin(q/m B_z t)\\
v&apos;_y &amp;amp;= A\cos(q/m B_z t)\end{align*}\)&lt;/p&gt;</content><author><name></name></author><category term="electromagnetism" /><category term="magnetism" /><category term="simulation" /><category term="hall_effect" /><summary type="html">$\newcommand{\ket}[1]{\rvert #1 \rangle}$ $\newcommand{\bra}[1]{\langle #1 \lvert}$ $\newcommand{\ptpt}[2]{\frac{\partial #1}{\partial #2}}$ $\newcommand{\unit}[1]{\mathrm{\,#1}}$</summary></entry><entry><title type="html">Continuous Actions</title><link href="http://localhost:4000/2020/02/12/Continuous-actions.html" rel="alternate" type="text/html" title="Continuous Actions" /><published>2020-02-12T00:00:00+01:00</published><updated>2020-02-12T00:00:00+01:00</updated><id>http://localhost:4000/2020/02/12/Continuous-actions</id><content type="html" xml:base="http://localhost:4000/2020/02/12/Continuous-actions.html">&lt;p&gt;sdf&lt;/p&gt;</content><author><name></name></author><summary type="html">sdf</summary></entry><entry><title type="html">Bitcoin as explained by other people (read time: 6-10 hours)</title><link href="http://localhost:4000/bitcoin/cryptocurrency/2020/02/07/Explaining-bitcoin.html" rel="alternate" type="text/html" title="Bitcoin as explained by other people (read time: 6-10 hours)" /><published>2020-02-07T23:04:06+01:00</published><updated>2020-02-07T23:04:06+01:00</updated><id>http://localhost:4000/bitcoin/cryptocurrency/2020/02/07/Explaining-bitcoin</id><content type="html" xml:base="http://localhost:4000/bitcoin/cryptocurrency/2020/02/07/Explaining-bitcoin.html">&lt;p&gt;Hi there,&lt;/p&gt;

&lt;p&gt;I have taken it upon myself to start a blog. Not necessarily to create a big cult following, but to remind myself of the things I did and in case I forget something, to refresh my memory by detailing how I learned it.&lt;br /&gt;
In this post: I learned to love the Bitcoin concept in just a weekend. This was really eye-opening to me, since to me it seemed that bitcoin was a sluggish but global cryptocurrency, but there is way more than meets the eye. Of course, at first I started of with what I consider to be the &lt;a href=&quot;https://www.youtube.com/watch?v=JyxRH18YlpA&quot;&gt;best high-level explanation you can imagine from the Youtube Channel Computerphile&lt;/a&gt;. And after that a good technical dive into what it really means to have a bitcoin (and what terms like ‘cryptography’ and ‘digital signature’ really mean) from &lt;a href=&quot;https://www.youtube.com/watch?v=bBC-nXj3Ng4&quot;&gt;3Blue1Brown&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;This is probably sufficient to read the &lt;a href=&quot;https://whitepaperdatabase.com/bitcoin-btc-whitepaper/&quot;&gt;bitcoin whitepaper&lt;/a&gt;, where Satoshi Nakamote, the pseudonym of the creator(s) outlines his idea and his vision. However, there are definitely some missing details in there. For example, I was wondering how you would take a ‘hash of a transaction’? What would you include and what would be left out? The real answer can be easily found in the source code (more on that later), but the short answer was: ‘Everything necessary to fully identify the transaction, and then serialize it into a consistent and universally computer-readable format’.&lt;/p&gt;

&lt;p&gt;To get more information about the practical safety of the bitcoin protocol, an interesting entry point are the &lt;a href=&quot;https://nakamotostudies.org/emails/&quot;&gt;early email discussions with Nakamoto&lt;/a&gt;, where other computer scientists discussed the pitfalls and concerns about the safety of the bitcoin protocol. The answers are clear and well-versed. So much so, that eventually, 6 years later, a split happened in the Bitcoin community: should we respect Satoshi’s initial brilliant ideas or try to improve upon the initial protocol?&lt;/p&gt;

&lt;p&gt;If you want to see a bitcoin transaction in action, I would look to these youtube videos from Youtube Channel 402PaymentRequired, starting with&lt;a href=&quot;https://www.youtube.com/watch?v=BQZXqmWSICM&quot;&gt; Video #9&lt;/a&gt; until #18. The tutorial is given through an imaginary conversation, so this may not be to your liking.&lt;/p&gt;

&lt;p&gt;Now it is time to dive into the real C++ code. I would recommend looking at &lt;a href=&quot;https://sourceforge.net/p/bitcoin/code/1/&quot;&gt;Satoshi’s original code&lt;/a&gt; for running a full node that adheres and maintains the Bitcoin protocol. Download the source code and open it in your favorite C++ code editor. Visual Code seems to be the rage right now. It really is beautiful code, so I understand why other computer scientists got excited by it.&lt;/p&gt;

&lt;p&gt;While reading through the code, some handy references are: public-private key encryption (see e.g. the &lt;a href=&quot;https://en.wikipedia.org/wiki/Pretty_Good_Privacy#/media/File:PGP_diagram.svg&quot;&gt;Figure here&lt;/a&gt; ),  &lt;a href=&quot;https://security.stackexchange.com/questions/14479/what-does-key-signing-mean&quot;&gt;digital signatures&lt;/a&gt; and knowing that the code uses OpenSSL for the encryption and BerkeleyDB for the database managing. 
Fun fact, that explanation of digital signatures was actually explaining it for the signing of public key of someone else. However, you can sign any message this way! By this, the receiver can make sure the message (the public encryption key or a random photo of a cat) came from who it said it came!&lt;/p&gt;

&lt;p&gt;You can also look at the consensus &lt;a href=&quot;https://github.com/bitcoin/bitcoin&quot;&gt;current bitcoin code&lt;/a&gt;, but it is a big bloated. It also included SegWit (segregated witnesses) and way more upgraded. From 2015 on, the big changes are maintained well on &lt;a href=&quot;https://bitcoincore.org/en/blog/&quot;&gt;their blog&lt;/a&gt;. I haven’t dived deep into all the changes that have happened since the release, but big ones are: the introduction of compressed public keys, multi-signature transactions, segregated witnesses, better coin tracking, the OP_RETURN message use and creating a second (fast) transaction layer on top of the blockchain: the Lightning Network.&lt;/p&gt;

&lt;p&gt;Now came the bad news: I was looking for some edge cases in the old code and thought of one. I found in the ProcessMessages (where the network messages are handled) that when a new ‘I found a block proof-of-work!’ message was given, the block was analyzed for some simple checks and it was checked if there were transactions and if there was a coinbase (the first transaction in a block that gives the miner the mining reward). I thought, there was no mention of any money checks. How can it check if a coin is spent. So I started looking. I found it in the ‘tx’ (transaction) message, since all transactions need to be published before a block can be accepted (since the merkle tree hash depends on all the transactions). Instead, I found startling facts. Like the &lt;a href=&quot;https://en.bitcoin.it/wiki/Common_Vulnerabilities_and_Exposures&quot;&gt;list of all times where bitcoin (or the software) failed&lt;/a&gt;!  it happened way more often than it should’ve. Oftentimes the angle of attack had been found before it was really fully exploited or found by a malignant actor, but there were a lot more than I thought. Also, not everything is on the list (you can find a lot more on the changelog of the bitcoin core &lt;a href=&quot;https://github.com/bitcoin/bitcoin/tree/master/doc/release-notes&quot;&gt;release notes&lt;/a&gt; ). As such, I was suddenly really skeptical of the whole system. I can not believe how many people blindly believe in this software. There should be a competition to this at least.&lt;/p&gt;

&lt;p&gt;Also for more an economic or political discussions, try the &lt;a href=&quot;https://www.mdavis.xyz/blockchain/&quot;&gt;‘make-your-own-adventure/blockchain-adventure’&lt;/a&gt; where it links to several different answers clarifying the use and especially the cases where you don’t want to use a blockchain. Most notably for me were the &lt;a href=&quot;https://fc18.ifca.ai/preproceedings/6.pdf&quot;&gt;injections of illegal data&lt;/a&gt; which can make government pose regulations on running a node.&lt;/p&gt;

&lt;p&gt;Now back to good facts and visualizations: &lt;br /&gt;
https://www.blockchain.com/charts/transactions-per-second &lt;br /&gt;
https://www.blockchain.com/charts/cost-per-transaction?popcorn=extrabuttery &lt;br /&gt;
https://utxo-stats.com/ &lt;br /&gt;
https://bitcoinfees.earn.com/ &lt;br /&gt;
https://bitcoinfees.github.io/#1m &lt;br /&gt;
https://en.bitcoin.it/wiki/Script &lt;br /&gt;
https://github.com/bitcoin/bips/blob/master/README.mediawiki &lt;br /&gt;
https://bitcoin.esotericnonsense.com/ &lt;br /&gt;
https://mempool.space/&lt;/p&gt;

&lt;p&gt;For the next blog post, I will be tackling the Ethereum blockchain!&lt;/p&gt;

&lt;p&gt;(Chode snippet)&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;print_hi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Hi, &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;print_hi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&apos;Tom&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#=&amp;gt; prints &apos;Hi, Tom&apos; to STDOUT.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;</content><author><name></name></author><category term="bitcoin" /><category term="cryptocurrency" /><summary type="html">Hi there,</summary></entry></feed>