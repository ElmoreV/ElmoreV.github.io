<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>The Hall effects | Elmore Town (since Elmore City already exists)</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="The Hall effects" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Check Introduction" />
<meta property="og:description" content="Check Introduction" />
<link rel="canonical" href="http://localhost:4000/mathjax/jax/2020/02/17/Hall-effects.html" />
<meta property="og:url" content="http://localhost:4000/mathjax/jax/2020/02/17/Hall-effects.html" />
<meta property="og:site_name" content="Elmore Town (since Elmore City already exists)" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-02-17T15:50:06+01:00" />
<script type="application/ld+json">
{"@type":"BlogPosting","url":"http://localhost:4000/mathjax/jax/2020/02/17/Hall-effects.html","headline":"The Hall effects","datePublished":"2020-02-17T15:50:06+01:00","dateModified":"2020-02-17T15:50:06+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/mathjax/jax/2020/02/17/Hall-effects.html"},"description":"Check Introduction","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Elmore Town (since Elmore City already exists)" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Elmore Town (since Elmore City already exists)</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>
<script
  type="text/javascript"
  charset="utf-8"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"
>
</script>
<script
  type="text/javascript"
  charset="utf-8"
  src="https://vincenttam.github.io/javascripts/MathJaxLocal.js"
>
</script>

<h1>The Hall effects</h1>
<p>17 Feb 2020 - </p>

<p>Check
<img src="/assets/anim1.webp" alt="A couple of electrons in a magnetic and electric field" />
Introduction</p>

<p>In the time I have been on my university, I have actually never seen a simulation of charged particles in a field. It either was a <a href="https://phet.colorado.edu/sims/html/charges-and-fields/latest/charges-and-fields_en.html">static field of charged particles</a>, a single electron in a magnetic field <a href="https://ophysics.com/em7.html">1</a>,<a href="https://techforcurious.website/simulation-of-motion-of-charged-particle-in-electric-field-vpython-tutorial-7-visual-python/">2</a> or a paper about the different kind of motions in the <a href="http://publications.lib.chalmers.se/records/fulltext/250827/250827.pdf">fusion reactor</a>. The simulations of a collection of electrons in a magnetic and electric field are never shown.</p>

<p>It was always a representation of a particle and the solved analytical equations governing the particle already calculated. I was wondering why this was, especially since it actually is very enlightening to calculate all the values yourself. For example, I made a particles in a box simulation with a lot of particles colliding, and could actually measure the Maxwell velocity distribution from that (and really hammered down how to think about temperature and pressure in these systems). Maybe this can be made its own post, but for now I would like to do the same for electrons in a small metallic plate. This effectively means that our problem is 2D, only the x and y directions matter. However, we still put our magnetic field in the third direction, the z-direction.</p>

<p>First you have to know that charged particles (electrons, protons) in an electric field move towards the electric field in absence of a magnetic field. And also, particles move in a circle with a radius depending on their velocity, depending on the magnetic field.</p>

<p>This all is described by the Lorentz force:</p>

<script type="math/tex; mode=display">m\mathbf{a} = \mathbf{F}= q(\mathbf{E} + \mathbf{v}\times\mathbf{B})</script>

<p>Say $\mathbf{B} = B_z \hat{z}$, and $E_z = 0$ so that $v_z = constant$:</p>

<script type="math/tex; mode=display">\left[\begin{matrix}
\dot{v_x}\\
\dot{v_y}
\end{matrix}\right] = \frac{q}{m}\left[\begin{matrix}
E_x + B_z v_y\\
E_y - B_z v_x\end{matrix}\right]</script>

<p>defining $v’_x = (v_x -E_y/B_z)$ and $v’_y = (v_y + E_x/B_z)$ we can find</p>

<script type="math/tex; mode=display">\left[\begin{matrix}
\dot{v'_x}\\
\dot{v'_y}
\end{matrix}\right] = \frac{q}{m}\left[\begin{matrix}
B_z v'_y\\
- B_z v'_x\end{matrix}\right]</script>

<p>The most general solution is (we can actually find the solution using a <a href="https://en.wikipedia.org/wiki/Matrix_differential_equation">cooler method using matrices</a>, but thats for another time):</p>

<script type="math/tex; mode=display">% <![CDATA[
\begin{align*}
v_x' &= A\sin(q/m B_z t)\\
v_y' &= A\cos(q/m B_z t)\end{align*} %]]></script>

<p>where $A$ can actually be a complex number.
We can transform this back to our original problem:</p>

<script type="math/tex; mode=display">% <![CDATA[
\begin{align*}
v_x &= A\sin(q/m B_z t) + E_y/B_z\\
v_y &= A\cos(q/m B_z t) - E_x/B_z\end{align*} %]]></script>

<p>We can find the value for $A=\lvert A\rvert e^{i\phi}$ by finding</p>

<script type="math/tex; mode=display">\sqrt{(v_x(t=0)-E_y/B_z)^2 +(v_y(t=0)+E_x/B_z)^2} = A</script>

<script type="math/tex; mode=display">\phi = \angle(v_x,v_y)</script>

<p>This means that the values of the position (given a static homogeneous electric field and a static magnetic field):</p>

<script type="math/tex; mode=display">% <![CDATA[
\begin{align*}
x(t) &= -\frac{Am}{qB_z}\cos(\frac{q}{m} B_z t) + E_y/B_z t + C_1\\
y(t) &= \frac{Am}{qB_z}\sin(q/m B_z t) - E_x/B_z t+ C_2\end{align*} %]]></script>

<p>where $C_1 = x_0 + \frac{Am}{qB_z}\cos(\phi)$ and $C_2 = y_0 - \frac{Am}{qB_z}\sin(\phi) $</p>

<h1>Simulation</h1>

<p>A naive simulation method would be to input the (perpendicular) magnetic field strength $B_z$ and the electric field $E_x,E_y$ and just integrate using LeapFrog (a symplectic integration method, meaning that there will be conservation of energy without external forces if the time step is small enough).
This is given as</p>

<script type="math/tex; mode=display">% <![CDATA[
\begin{align*}
a_{i} &= F(x_i)/m_i\\
v_{i+1/2} &= v_{i-1/2} + a_{i} *\Delta t\\
x_{i+1} &= x_{i} + v_{i+1/2} *\Delta t\\
\end{align*} %]]></script>

<p>with time step $\Delta t$.</p>

<p>See the result:…</p>

<p>This does not work: it diverges from the analytical solution. A better solution would be the Boris algorithm:</p>

<script type="math/tex; mode=display">\begin{align*}
q' = \Delta t \frac{q}{2m}\\
\mathbf{h} = q'*\mathbf{B}_i\\
u = \mathbf{v}_{i-1/} + q'*\mathbf{E}\\
s= 2*\mathbf{h}/(1+\lvert h\rvert^2)\\
u'= u+(\mathbf{u}+(u\times h)) \times s\\
v_{i+1/2} = u'+ q'*E_i\\
x_{i+1} = x_i + v_{i+1/2}*\Delta t
\end{align*}</script>

<p>A big longer but extremely stable up to an enormous scale.\</p>

<p>Now for the surprising simulation results:
Bleep bloop
Insert circular
Insert the quadratic speedup in only electric field
Insert electric field and magnetic field: show helical behaviour!!
See if I can speed up the simulation some way..
See if I can make the simulation better.</p>

<p>Appendix:</p>

<p>Cooler solution using matrices:</p>

<script type="math/tex; mode=display">% <![CDATA[
\left[\begin{matrix}
\dot{v'_x}\\
\dot{v'_y}
\end{matrix}\right] = \frac{q}{m}\left[\begin{matrix}
B_z v'_y\\
- B_z v'_x\end{matrix}\right]=\frac{q}{m}\left[\begin{matrix}
0 &\frac{qB_z}{m}\\
-\frac{qB_z}{m} &0
\end{matrix}\right]\left[\begin{matrix}
v'_x\\
v'_y\end{matrix}\right]= \mathbf{A} \mathbf{v'} %]]></script>

<p>Finding the eigenvalues of the matrix $\mathbf{A}$ gives us $\lambda =\pm \frac{qB_z}{m}i$
Find the eigenvector corresponding to $\lambda_\pm = \pm\frac{qB_z}{m}i$:</p>

<script type="math/tex; mode=display">% <![CDATA[
\begin{align*}
\mathbf{u}_+ &= \frac{1}{\sqrt{2}}\left[\begin{matrix}-i\\1\end{matrix}\right]\\
\mathbf{u}_- &= \frac{1}{\sqrt{2}}\left[\begin{matrix}+i\\1\end{matrix}\right]\end{align*} %]]></script>

<p>Giving us the final solution (we absorb the factor $\sqrt{2}$ in $c_1,c_2$:
<script type="math/tex">\mathbf{v} = c_1 \left[\begin{matrix}-i\\1\end{matrix}\right] e^{\frac{qB_z}{m}it}+ c_2 \left[\begin{matrix}+i\\1\end{matrix}\right] e^{-\frac{qB_z}{m}it}</script>
Now we need to solve for this, but before we do that, we enforce that the solution for $\mathbf{v}$ is not complex.</p>

<p>Do the math…</p>

<p>Now we find, as above:
<script type="math/tex">% <![CDATA[
\begin{align*}
v'_x &= A\sin(q/m B_z t)\\
v'_y &= A\cos(q/m B_z t)\end{align*} %]]></script></p>

<p>Moreover:</p>

<p>The Matrix of $\mathbf{v}\times\mathbf{B}$ can be written as a matrix multiplication $B\mathbf{v}$ where $B$ is a matrix:</p>

<p><script type="math/tex">% <![CDATA[
B=\left[\begin{matrix}
0 & B_z & -B_y\\
-B_z & 0 & B_x\\
B_y & -B_x & 0
\end{matrix}\right] %]]></script>
but there is no inverse…</p>

<p>Solution to the equations when $B_z=0$:</p>

<script type="math/tex; mode=display">\mathbf{x}(t) = \frac{\mathbf{E}}{2}t^2 + \mathbf{v}_0t + \mathbf{x}_0</script>

<p>Text</p>


      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Elmore Town (since Elmore City already exists)</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Elmore Town (since Elmore City already exists)</li><li><a class="u-email" href="mailto:elmorevaal@gmail.com">elmorevaal@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/ElmoreV"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">ElmoreV</span></a></li><li><a href="https://www.twitter.com/MoreVaal"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">MoreVaal</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
